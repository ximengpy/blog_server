{"remainingRequest":"F:\\blog_server2\\blog-admin\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\blog_server2\\blog-admin\\client\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\blog_server2\\blog-admin\\client\\src\\views\\Login\\index.vue","mtime":1597643400823},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595078120000},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1595078120000},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595078120000},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1595078120000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bG9naW59IGZyb20gIi4uLy4uL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICAvL+ihqOWNleaVsOaNrgogICAgICBmb3JtIDp7CiAgICAgICAgdXNlciA6ICIiLAogICAgICAgIHB3ZCA6ICIiCiAgICAgIH0sCiAgICAgIC8v6KGo5Y2V6aqM6K+BCiAgICAgIHJ1bGVzOnsKICAgICAgICAvL+eUqOaIt+WQjemqjOivgQogICAgICAgIHVzZXIgOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIC8v5pWw5o2u57G75Z6LCiAgICAgICAgICAgIHR5cGU6InN0cmluZyIsCiAgICAgICAgICAgIC8v5q2j5YiZ6KeE5YiZCiAgICAgICAgICAgIHBhdHRlcm46IC9eW1x3XHU0ZTAwLVx1OWZhNVx1YWMwMC1cdWQ3ZmZcdTA4MDAtXHU0ZTAwXC1dezIsN30kLywKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeato+ehruagvOW8j+eUqOaIt+WQjScsCiAgICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsJ2NoYW5nZSddCiAgICAgICAgICB9CiAgICAgICAgXSwKCiAgICAgICAgLy/lr4bnoIHpqozor4EKICAgICAgICBwd2QgOiB7CiAgICAgICAgICB0eXBlOiJzdHJpbmciLAogICAgICAgICAgdmFsaWRhdG9yIDogKHJ1bGUsdmFsdWUsY2IpPT57CiAgICAgICAgICAgIGlmICh2YWx1ZSl7CiAgICAgICAgICAgICAgLy/pqozor4Hlr4bnoIHmmK/lkKbnrKblkIjop4TliJkKICAgICAgICAgICAgICBpZiAoL15bXHc8PiwuP3w7Jzoie30hQCMkJV4mKigpXC9cLVxbXF1cXF17NiwxOH0kLy50ZXN0KHZhbHVlKSl7CiAgICAgICAgICAgICAgICBjYigpOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgY2IobmV3IEVycm9yKCLor7fovpPlhaXmraPnoa7moLzlvI/lr4bnoIEiKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICBjYihuZXcgRXJyb3IoIuivt+i+k+WFpeWvhueggSIpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy/lnKjov5nph4zov5jpnIDopoHop6blj5Hnoa7orqTlr4bnoIHnmoTpqozor4EKICAgICAgICAgICAgdGhpcy5mb3JtLmNoZWNrUHdkICYmIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZUZpZWxkKCJjaGVja1B3ZCIpOwogICAgICAgICAgfSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywnY2hhbmdlJ10KICAgICAgICB9CiAgICAgIH0sCgogICAgICAvL+eZu+W9lei/h+eoi+emgeeUqAogICAgICBzdWJtaXREaXNhYmxlZCA6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGJlZm9yZUNsb3NlKCl7fSwKICAgIGhhbmRsZUNsaWNrKCl7CiAgICAgIHRoaXMuc3VibWl0RGlzYWJsZWQgPSB0cnVlOy8v56aB55So54K55Ye7CgogICAgICAvL+mqjOivgeaVsOaNrgogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvL+mqjOivgemDvemAmui/hwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKQogICAgICAgICAgbG9naW4odGhpcy5mb3JtKQogICAgICAgICAgICAudGhlbihyZXM9PnsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgLy/nmbvpmYblpLHotKUKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0RGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlIDogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgICAgICB0eXBlIDogImVycm9yIiwKICAgICAgICAgICAgICAgICAgZHVyYXRpb24gOiAyMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIC8v55m76ZmG5oiQ5YqfCiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdERpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FkbWluIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCk9PnsKICAgICAgICAgICAgdGhpcy5zdWJtaXREaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlIDogIueZu+mZhuWksei0pe+8jOivt+eojeWQjuWGjeivlSIsCiAgICAgICAgICAgICAgdHlwZSA6ICJlcnJvciIsCiAgICAgICAgICAgICAgZHVyYXRpb24gOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8v6aqM6K+B5rKh6YCa6L+HCiAgICAgICAgICB0aGlzLnN1Ym1pdERpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div class=\"login-box\">\n    <el-dialog\n      title=\"登陆后台管理系统\"\n      :visible=\"true\"\n      :before-close=\"beforeClose\"\n      :close-on-click-modal=\"false\"\n      custom-class='dialog-login'\n    >\n      <el-form\n          ref=\"form\"\n          :model=\"form\"\n          label-width=\"80px\"\n          :rules=\"rules\"\n      >\n        <el-form-item label=\"用户名\" prop=\"user\">\n          <el-input v-model=\"form.user\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"pwd\" >\n          <el-input v-model=\"form.pwd\" show-password></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"handleClick\" :disabled=\"submitDisabled\">登录</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {login} from \"../../api\";\n\n  export default {\n    name: \"Login\",\n    data(){\n      return {\n        //表单数据\n        form :{\n          user : \"\",\n          pwd : \"\"\n        },\n        //表单验证\n        rules:{\n          //用户名验证\n          user : [\n            { required: true, message: '请输入用户名', trigger: 'blur' },\n            {\n              //数据类型\n              type:\"string\",\n              //正则规则\n              pattern: /^[\\w\\u4e00-\\u9fa5\\uac00-\\ud7ff\\u0800-\\u4e00\\-]{2,7}$/,\n              message: '请输入正确格式用户名',\n              trigger: ['blur','change']\n            }\n          ],\n\n          //密码验证\n          pwd : {\n            type:\"string\",\n            validator : (rule,value,cb)=>{\n              if (value){\n                //验证密码是否符合规则\n                if (/^[\\w<>,.?|;':\"{}!@#$%^&*()\\/\\-\\[\\]\\\\]{6,18}$/.test(value)){\n                  cb();\n                }else{\n                  cb(new Error(\"请输入正确格式密码\"));\n                }\n              }else{\n                cb(new Error(\"请输入密码\"));\n              }\n\n              //在这里还需要触发确认密码的验证\n              this.form.checkPwd && this.$refs.form.validateField(\"checkPwd\");\n            },\n            required: true,\n            trigger: ['blur','change']\n          }\n        },\n\n        //登录过程禁用\n        submitDisabled : false\n      }\n    },\n    methods:{\n      beforeClose(){},\n      handleClick(){\n        this.submitDisabled = true;//禁用点击\n\n        //验证数据\n        this.$refs[\"form\"].validate((valid) => {\n          if (valid) {\n            //验证都通过\n            console.log(this.form)\n            login(this.form)\n              .then(res=>{\n                if (res.data.code) {\n                  //登陆失败\n                  this.submitDisabled = false;\n                  this.$message({\n                    message : res.data.msg,\n                    type : \"error\",\n                    duration : 2000\n                  });\n                }else{\n                  //登陆成功\n                  this.submitDisabled = false;\n                  this.$router.push(\"/admin\");\n                }\n              })\n              .catch(()=>{\n              this.submitDisabled = false;\n              this.$message({\n                message : \"登陆失败，请稍后再试\",\n                type : \"error\",\n                duration : 2000\n              });\n            });\n          } else {\n            //验证没通过\n            this.submitDisabled = false;\n            return false;\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\">\n.login-box {\n  .dialog-login {\n      width: 36%;\n    }\n}\n@media screen and (max-width: 966px)  {\n    .login-box {\n      .dialog-login {\n        width: 100%;\n      }\n    }\n  }\n</style>\n"]}]}