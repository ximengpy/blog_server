{"remainingRequest":"F:\\blog_server2\\blog-admin\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\blog_server2\\blog-admin\\client\\src\\components\\ArticleEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\blog_server2\\blog-admin\\client\\src\\components\\ArticleEdit.vue","mtime":1597649332826},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595078120000},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1595078120000},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595078120000},{"path":"F:\\blog_server2\\blog-admin\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1595078120000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUmljaFRleHQgZnJvbSAiLi9SaWNoVGV4dCI7CmltcG9ydCBVcGxvYWQgZnJvbSAiLi9VcGxvYWQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFydGljbGVFZGl0IiwKICBjb21wb25lbnRzOntVcGxvYWQsUmljaFRleHR9LAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGZvcm0gOiB7CiAgICAgICAgdGl0bGUgOiB0aGlzLmRlZmF1bHREYXRhLnRpdGxlfHwiIiwKICAgICAgICB0eXBlIDogdGhpcy5kZWZhdWx0RGF0YS50eXBlfHwiIiwKICAgICAgICB0YWcgOiB0aGlzLmRlZmF1bHREYXRhLnRhZ3x8IiIsCiAgICAgICAgY29udGVudCA6IHRoaXMuZGVmYXVsdERhdGEuY29udGVudHx8IiIsCiAgICAgICAgc3VyZmFjZSA6IHRoaXMuZGVmYXVsdERhdGEuc3VyZmFjZXx8IiIKICAgICAgfSwKICAgICAgcnVsZXMgOiB7CiAgICAgICAgdHlwZSA6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oupdHlwZScgfV0sCiAgICAgICAgdGl0bGUgOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpXRpdGxlJyB9XSwKICAgICAgICB0YWcgOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpXRhZycgfV0sCiAgICAgICAgY29udGVudCA6IHsKICAgICAgICAgIHZhbGlkYXRvciA6IChydWxlLHZhbHVlLGNiKT0+ewogICAgICAgICAgICAoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICBpZiAoMSkgewogICAgICAgICAgICAgICAgY2IoKTsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGNiKG5ldyBFcnJvcigi6K+36L6T5YWl5paH56ug5YaF5a6577yBIikpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2FsbCh0aGlzLiRyZWZzLnJpY2hUZXh0KTsKICAgICAgICAgIH0sCiAgICAgICAgICByZXF1aXJlZCA6IHRydWUKICAgICAgICB9LAogICAgICB9CiAgICB9CiAgfSwKICBwcm9wcyA6IFsiZGVmYXVsdERhdGEiXSwKICB3YXRjaDp7CiAgICBkZWZhdWx0RGF0YSgpewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgdGl0bGUgOiB0aGlzLmRlZmF1bHREYXRhLnRpdGxlLAogICAgICAgIHR5cGUgOiB0aGlzLmRlZmF1bHREYXRhLnR5cGUsCiAgICAgICAgdGFnIDogdGhpcy5kZWZhdWx0RGF0YS50YWcsCiAgICAgICAgY29udGVudCA6IHRoaXMuZGVmYXVsdERhdGEuY29udGVudCwKICAgICAgICBzdXJmYWNlIDogdGhpcy5kZWZhdWx0RGF0YS5zdXJmYWNlCiAgICAgIH0KICAgICAgdGhpcy5jaGFuZ2VDb250ZW50QW5kU3VyZmFjZSgpOwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICB1cGxvYWRTdWNjZXNzKHVybCl7CiAgICAgIHRoaXMuZm9ybS5zdXJmYWNlID0gdXJsOwogICAgfSwKICAgIG9uU3VibWl0KGZvcm1OYW1lKXsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CgogICAgICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlU3VibWl0IiwgewogICAgICAgICAgICB0eXBlOiB0aGlzLmZvcm0udHlwZSwKICAgICAgICAgICAgdGl0bGU6IHRoaXMuZm9ybS50aXRsZSwKICAgICAgICAgICAgdGFnOiB0aGlzLmZvcm0udGFnLAogICAgICAgICAgICBzdXJmYWNlOiB0aGlzLmZvcm0uc3VyZmFjZSwKICAgICAgICAgICAgY29udGVudDogKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5odG1sCiAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMubGF5ZWRpdC5nZXRDb250ZW50KHRoaXMuaW5kZXgpOwogICAgICAgICAgICB9KS5jYWxsKHRoaXMuJHJlZnMucmljaFRleHQpCiAgICAgICAgICB9KTsKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZUNvbnRlbnRBbmRTdXJmYWNlKCl7CgogICAgfQogIH0sCn0K"},{"version":3,"sources":["ArticleEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ArticleEdit.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-form\n      ref=\"form\"\n      :model=\"form\"\n      label-width=\"80px\"\n      :rules=\"rules\"\n  >\n    <el-form-item label=\"分类\" prop=\"type\">\n      <el-select v-model=\"form.type\" placeholder=\"请选择分类\">\n        <el-option label=\"原创\" value=\"原创\"></el-option>\n        <el-option label=\"转载\" value=\"转载\"></el-option>\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"标题\" prop=\"title\">\n      <el-input v-model=\"form.title\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"标签\"  prop=\"tag\">\n      <el-select v-model=\"form.tag\" placeholder=\"请选择标签\">\n        <el-option label=\"HTML&Css\" value=\"HTML&Css\"></el-option>\n        <el-option label=\"JavaScript\" value=\"JavaScript\"></el-option>\n        <el-option label=\"Node\" value=\"Node\"></el-option>\n        <el-option label=\"Vue&React\" value=\"Vue&React\"></el-option>\n        <el-option label=\"Other\" value=\"Other\"></el-option>\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"内容\"  prop=\"content\">\n      <RichText :value=\"form.content\" ref=\"richText\"></RichText>\n    </el-form-item>\n    <el-form-item label=\"封面\">\n      <Upload @uploadSuccess=\"uploadSuccess\"></Upload>\n    </el-form-item>\n    <el-form-item>\n      <el-button\n          type=\"primary\"\n          @click=\"onSubmit('form')\"\n      >发表文章</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\n\n  import RichText from \"./RichText\";\n  import Upload from \"./Upload\";\n  export default {\n    name: \"ArticleEdit\",\n    components:{Upload,RichText},\n    data(){\n      return {\n        form : {\n          title : this.defaultData.title||\"\",\n          type : this.defaultData.type||\"\",\n          tag : this.defaultData.tag||\"\",\n          content : this.defaultData.content||\"\",\n          surface : this.defaultData.surface||\"\"\n        },\n        rules : {\n          type : [{ required: true, message: '请选择type' }],\n          title : [{ required: true, message: '请输入title' }],\n          tag : [{ required: true, message: '请输入tag' }],\n          content : {\n            validator : (rule,value,cb)=>{\n              (function(){\n                if (1) {\n                  cb();\n                }else{\n                  cb(new Error(\"请输入文章内容！\"));\n                }\n              }).call(this.$refs.richText);\n            },\n            required : true\n          },\n        }\n      }\n    },\n    props : [\"defaultData\"],\n    watch:{\n      defaultData(){\n        this.form = {\n          title : this.defaultData.title,\n          type : this.defaultData.type,\n          tag : this.defaultData.tag,\n          content : this.defaultData.content,\n          surface : this.defaultData.surface\n        }\n        this.changeContentAndSurface();\n      }\n    },\n    methods:{\n      uploadSuccess(url){\n        this.form.surface = url;\n      },\n      onSubmit(formName){\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n\n            this.$emit(\"handleSubmit\", {\n              type: this.form.type,\n              title: this.form.title,\n              tag: this.form.tag,\n              surface: this.form.surface,\n              content: (function () {\n                return this.html\n                // return this.layedit.getContent(this.index);\n              }).call(this.$refs.richText)\n            });\n\n          } else {\n            return false;\n          }\n        });\n      },\n      changeContentAndSurface(){\n\n      }\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}